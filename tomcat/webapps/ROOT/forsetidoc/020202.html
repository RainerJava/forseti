<!DOCTYPE HTML>
<html>
<head>
<title>Forseti GNU</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
TD,P,B,INPUT,DIV{font-family: Arial, "Apple Chancery", "DejaVu Sans Mono", monospace; font-size:12pt}
.txtMenu{
	padding:4px;
	font-size:12pt;
	font-weight:normal;
	color:white;
	font-style: normal;
	text-decoration: none;
}
.txtSubMenu{
	padding:4px;
	font-size:12pt;
	font-weight:bold;
	font-style: normal;
	text-decoration: none;
}
.txtPag{
	padding:4px;
	font-size:12pt;
	font-weight:normal;
	font-style: normal;
	text-decoration: none;
}
.txtEnlTit{
	padding:4px;
	font-size:14pt;
	font-weight:bold;
	font-style: normal;
	text-decoration: none;
}
.txtTitLight{
	padding:4px;
	font-size:16pt;
	font-weight:lighter;
	font-style: normal;
	text-decoration: none;
}
.txtEnl{
	padding:4px;
	font-size:10pt;
	font-weight:normal;
	font-style: normal;
}
.txtTit{
	padding:4px;
	font-size:16pt;
	font-weight:bold;
	font-style: normal;
	text-decoration: none;
}
.txtImp{
	padding:4px;
	font-size:12pt;
	font-weight:lighter;
	font-style: normal;
	text-decoration: none;
}
.txtPie{
	padding:4px;
	font-size:9pt;
	font-weight:normal;
	color:#FFFFFF;
	font-style: normal;
	
}

.txtTec{
	padding:4px;
	font-size:10pt;
	font-weight:normal;
	color:#FFFFFF;
	font-style: normal;
	text-decoration: none;
	
}
</style>
</head>
<body bgcolor="#FFFFFF" leftmargin="0" topmargin="0" rightmargin="0" bottommargin="0" marginwidth="0" marginheight="0">
<div align="center">
  <table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
    <tr> 
      <td height="20" align="right" valign="middle" bgcolor="#CCCCCC" class="txtTec"> 
        <a href="index.html" target="_self" class="txtTec">Inicio</a> | <a href="DONACIONES.html" target="_self" class="txtTec">Donaciones</a> 
        | <a href="SOF.html" target="_self" class="txtTec">Contacto</a></td>
    </tr>
    <tr> 
      <td class="txtEnlTit"><table width="100%" border="0" cellspacing="5" cellpadding="0">
          <tr>
            <td width="100" align="center"><img src="../forsetidoc/IMG/logo_forseti.jpg" width="90" height="80"></td>
            <td align="right"><img src="../forsetidoc/IMG/el-erp-gratuito-para-pymes.gif" width="700" height="80"></td>
          </tr>
        </table>
        
      </td>
    </tr>
    <tr> 
      <td>
          <table width="100%"  border="0" cellspacing="0" cellpadding="0">
            <tr> 
			
              <td height="30" align="center" valign="middle" bgcolor="#999999"><a class="txtMenu" href="010001.html" target="_self">Generalidades</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#888888"><a class="txtMenu" href="020101.html" target="_self">Implantaci&oacute;n</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#999999"><a class="txtMenu" href="030101.html" target="_self">Interfaz</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#FF6600"><a class="txtMenu" href="040101.html" target="_self">SAF</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#0099FF"><a class="txtMenu" href="050101.html" target="_self">CEF</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#FFCC00"><a class="txtMenu" href="060101.html" target="_self">REF</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#339933"><a class="txtMenu" href="070101.html" target="_self">SOF</a></td>
			

              <td height="30" align="center" valign="middle" bgcolor="#888888"><a class="txtMenu" href="080101.html" target="_self">Anexos</a></td>
			

             
               </tr>
			   <tr>
			    <td height="10">&nbsp;</td>
			   </tr>
          </table>
      </td>
    </tr>
    <tr> 
      <td>
	  
	    <table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
			<td width="150" valign="top"> 
              <table width="100%" border="0" cellspacing="0" cellpadding="2">
                 
              	 <tr>
				 	<td width="5" valign="top" class="txtSubMenu"><font color="#444444">-</font></td>
                    <td valign="top"><a href="020101.html" class="txtSubMenu" target="_self"><font color="#444444">Requerimientos</font></a></td>
				 </tr>
				 

              	 <tr>
				 	<td width="5" valign="top" class="txtSubMenu"><font color="#444444">-</font></td>
                    <td valign="top"><a href="020201.html" class="txtSubMenu" target="_self"><font color="#444444">Instalaci&oacute;n</font></a></td>
				 </tr>
				 

              	 <tr>
				 	<td width="5" valign="top" class="txtSubMenu"><font color="#444444">-</font></td>
                    <td valign="top"><a href="020301.html" class="txtSubMenu" target="_self"><font color="#444444">Configuraci&oacute;n</font></a></td>
				 </tr>
				 

				</table>
				
              <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr> 
                  <td><br>
                    Motores del proyecto Forseti<br>
                    <img src="../forsetidoc/IMG/hor_caja.gif" width="150" height="15"><br>
                    <img src="../forsetidoc/IMG/gnulinux.gif" width="150" height="50"><br>
                    <img src="../forsetidoc/IMG/hor_caja.gif" width="150" height="15"><br>
                    <img src="../forsetidoc/IMG/postgresql.gif" width="150" height="50"><br>
                    <img src="../forsetidoc/IMG/hor_caja.gif" width="150" height="15"><br>
                    <img src="../forsetidoc/IMG/openjdk.gif" width="150" height="50"><br>
                    <img src="../forsetidoc/IMG/hor_caja.gif" width="150" height="15"><br>
                    <img src="../forsetidoc/IMG/tomcat.gif" width="150" height="50"><br>
                    <img src="../forsetidoc/IMG/hor_caja.gif" width="150" height="15"><br>
                    <img src="../forsetidoc/IMG/openssl.gif" width="150" height="50"><br>
                    <img src="../forsetidoc/IMG/hor_caja.gif" width="150" height="15"><br>
                    <img src="../forsetidoc/IMG/rsync.gif" width="150" height="50"></td>
                </tr>
              </table>
			</td>
			<td valign="top">
				<table width="100%" border="0" cellspacing="0" cellpadding="10">
				  
				  <tr>
					<td class="txtTit" align="center"><font color="#444444">Instalando el servidor Forseti</font></td>
				  </tr>
				  <tr>
					<td> 
                    
 
				
 
				
 
				
 
				
 
				
 
				 				 				 				 				 				 				 				 				

<div align="justify">Primero debemos de verificar si PostgreSQL ya está instalado (debemos recordar que algunas distribuciones, sobretodo de versión para servidores, pueden instalarlo desde el momento en que se instaló el sistema operativo)<br />
&nbsp; <br />
<span style="color: rgb(0, 0, 255);">$ dpkg -s postgresql</span><br />
<br />
Si PostgreSQL ya esta instalado, esta debe ser la versión 9.x o superior, de lo contrario se tendrá que actualizar o reinstalar PostgreSQL con esta versión. La forma de hacerlo está fuera del alcance de esta documentación.<br />
Si es una versión correcta, entonces puedes dar el salto a la instalación del servidor Forseti en la siguiente sección.<br />
<br />
Si PostgreSQL no esta instalado aún, vamos a instalarlo:<br />
&nbsp; <br />
<span style="color: rgb(0, 0, 255);">$ sudo apt-get install postgresql-client <br />
$ sudo apt-get install postgresql postgresql-contrib</span><br />
<br />
Si todo va bien, te pedirá la confirmación de instalación de los paquetes postgresql los cuales instalarán el servidor de base de datos PostgreSQL 9.x o superior en el sistema. Si se decidió implantar Forseti en dos servidores, las instalaciones subsecuentes deberán hacerse en el segundo servidor.<br />
<br />
Forseti es una aplicación web, lo que significa que utiliza un servicio web para ser accesada, Además, esta basado en la tecnología Servlet 3.0 y JSP 1.3, ambas son tecnologías de programas Java que se ejecutan en un servidor, y construyen páginas web a partir de datos dinámicos.

<p align="justify"> Apache Tomcat es el contenedor de servlets y jsp, es decir, es el motor que utiliza Forseti para ejecutar sus servlets y páginas jsp, que permiten interactuar con el motor PostgreSQL y el navegador del usuario. Además, Forseti se apoya en la tecnología JSSE para construir certificados y llaves para que toda la información pueda viajar cifrada. Por último, pero de suma importancia, Forseti utiliza una aplicación llamada RSYNC para poder soportar tareas de respaldo y otras tareas de almacenamiento de datos alternas al servicio de base de datos que brinda PostgreSQL.</p>
<div align="justify">En resumen, los siguientes elementos se deben instalar para que el servidor Forseti pueda funcionar: OpenSSL, RSYNC, Java OpenJDK 7, Tomcat 7 y la aplicación web Forseti. Empezaremos por la instalación del servicio OpenSSL. Ya que OpenSSL se utiliza para muchos procesos del sistema, lo mas probable es que ya se encuentre instalado. De todas formas, se pudiera verificar antes de la instalación de la siguiente manera:<br />
<br />
<span style="color: rgb(0, 0, 255);">$ dpkg -s openssl</span><br />
<br />
Si no está instalado, lo instalamos:<br />
<br />
<span style="color: rgb(0, 0, 255);">$ </span>
<span style="color: rgb(0, 0, 255);">sudo apt-get install openssl</span><br />
<span style="color: rgb(0, 0, 255);">
</span><br />
<span style="color: rgb(0, 0, 255);">
</span>Ahora continuamos con el servicio RSYNC<br />
<br />
<span style="color: rgb(0, 0, 255);">$ </span>
<span style="color: rgb(0, 0, 255);">sudo apt-get install rsync</span><br />
<br />
Ahora instalamos la implementación Java OpenJDK 7...<br />
<br />
<span style="color: rgb(0, 0, 255);">$ sudo apt-get install openjdk-7-jre</span><br />
<br />
Si todo va bien, se instalará la maquina virtual de java y sus herramientas y podemos seguir con nuestro siguiente servicio que va a ser Tomcat.<br />
<br />
<span style="color: rgb(0, 0, 255);">$ </span>
<span style="color: rgb(0, 0, 255);">sudo apt-get install tomcat7</span><br />
<br />
Por último, vamos a instalar la aplicación web Forseti, ésta se instala de una manera distinta a los demás, primero la descargamos con el comando wget y desempaquetamos el archivo comprimido descargado:<br />
<br />
<span style="color: rgb(0, 0, 255);">$ wget https://s3-us-west-2.amazonaws.com/forseti.org.mx/descargas/archivo/forseti.tar.gz<br />
$ tar -xzvf forseti.tar.gz<br />
</span><br />
Ahora copiamos el directorio forseti dentro del directorio de sistema /usr/local, y nos posicionamos en el.<br />
<br />
<span style="color: rgb(0, 0, 255);">$ sudo cp -R forseti /usr/local<br />
$ cd /usr/local</span><br />
<br />
Hasta el momento, obtenemos el servidor Forseti bajo el directorio /usr/local/forseti. Este directorio y todo su contenido hay que protegerlo para que pertenezca al proceso tomcat7 y este pueda trabajar sobre el. Para esto usaremos el comando chown y chgrp de la siguiente manera:<br />
<br />
<span style="color: rgb(0, 0, 255);">$ sudo chown tomcat7 -R forseti<br />
$ sudo chgrp tomcat7 -R forseti</span><br />
<span style="color: rgb(0, 0, 255);">$ sudo chmod 700 -R forseti</span><br />
<br />
Ahora, debemos copiar la aplicacion web al directorio de aplicaciones del servicio Tomcat, hacer limpieza de archivos, delegar algunos permisos y reiniciar el servidor.<br />
<br />
<span style="color: rgb(0, 0, 255);">$ sudo cp forseti/ROOT.war /var/lib/tomcat7/webapps<br />
$ sudo chown tomcat7 /var/lib/tomcat7/webapps/ROOT.war<br />


$ sudo chgrp tomcat7 /var/lib/tomcat7/webapps/ROOT.war<br />

$ sudo rm -r /var/lib/tomcat7/webapps/ROOT<br />
$ sudo rm forseti/ROOT.war<br />
$ sudo service tomcat7 restart</span><br />
<br />
Si todo salió bien, ya tenemos todos los elementos instalados, ahora delegamos unos permisos indispensables al proceso tomcat:<br />
<br />
<span style="color: rgb(0, 0, 255);">$ sudo visudo</span><br />
<br />
Esto abrirá el archivo de texto sudoers al cual debemos agregarle la siguiente linea justo después de la linea "root&nbsp;&nbsp;&nbsp; ALL=(ALL:ALL) ALL".<br />
<br />
<span style="color: rgb(0, 0, 255);">tomcat7 ALL = NOPASSWD: /usr/bin/openssl, /bin/cp</span><br />
</div><br />
Guardamos y listo.<br />
</div>			  			  			  			  			  			  			  			  			  			  			  					  			  			  			  			  			  			  			  			  			  			  			  
			  

			  

			  

			  

			  

			  

                    </td>
				  </tr>
				  <tr>
					<td height="10">&nbsp;</td>
				  </tr>
				  

				</table>
			</td>
			<td width="220" valign="top"> 
              <table width="100%" border="0" cellspacing="0" cellpadding="2">
			    <tr>
				    
                  <td colspan="2">P&aacute;ginas en este tema:</td>
				 </tr>
                
				<tr>
				    <td width="5" valign="top" class="txtPag"><font color="#444444">-</font></td>     
                    <td valign="top"><a href="020201.html" class="txtPag" target="_self"><font color="#444444">Instalación</font></a><br><font color="#999999">Información básica de la instalación de forseti</font></td>
				 </tr>
				

				<tr>
				    <td width="5" valign="top" class="txtPag"><font color="#444444">-</font></td>     
                    <td valign="top"><a href="020202.html" class="txtPag" target="_self"><font color="#444444">Instalando el servidor Forseti</font></a><br><font color="#999999">Instrucciones de instalación para el servidor Forseti</font></td>
				 </tr>
				

			</table>
			
			</td>
		  </tr>
		</table>

	  
	  </td>
    </tr>
    <tr> 
      <td bgcolor="#999999" height="40" valign="bottom" class="txtPie"><a href="AGPL.html" target="_self" class="txtPie">Licencia Pública General de Affero (AGPL)</a> | <a href="acerca" target="_self" class="txtPie">Sobre 
        Forseti</a><br>
        Derechos Reservados &copy; 2014 - 2015 Organización Forseti A.C. 
      </td>
    </tr>
  </table>
</div>
</body>
</html>

